<style>
  .fl{float:left;}
  .fr{float:right;}
  .fix{overflow:hidden;}
  .txtof{
    width: 90%;
    overflow: hidden;
    text-overflow: ellipsis;
  }
</style>
<ion-view view-title="WeChat">
  <ion-header-bar align-title="left" class="bar-dark">
    <div class="h1 title">WeChat</div>
    <div class="buttons">
      <button class="button button-clear">
        <i class="icon ion-search"></i>
      </button>
      <button class="button button-clear">
        <i class="icon ion-plus-round"></i>
      </button>
    </div>
  </ion-header-bar>
  <ion-content>
    <ion-refresher
      pulling-text="下拉刷新..."
      on-refresh="doRefresh()">
    </ion-refresher>
    <ion-list show-delete="shouldShowDelete"
          show-reorder="shouldShowReorder"
          can-swipe="listCanSwipe">
      <ion-item class="item-avatar" ng-repeat="item in items" href="#/tab/chat/{{item.user.username}}">
        <ion-delete-button class="ion-minus-circled"></ion-delete-button>
        <img src="{{item.user.picture.large}}" />
        <div class="fix"><div class="fl txtof">{{item.user.email}} </div><div class="fr">{{item.user.gender | genderFilter}} </div></div>
        <p>{{item.user.username}} </p>
        <ion-reorder-button class="ion-navicon"
          on-reorder="moveItem(item, $fromIndex, $toIndex)">
        </ion-reorder>
        <ion-option-button class="button-positive">分享</ion-option-button>
        <ion-option-button class="button-assertive">编辑</ion-option-button>
      </ion-item>
    </ion-list>
    <button class="button button-clear" ng-click="scrollTop()"><i class="icon ion-arrow-up-c"></i>滚动到顶部!</button>
    <ion-infinite-scroll
      on-infinite="loadMore()"
      distance="10%">
    </ion-infinite-scroll>
  </ion-content>
</ion-view>
